{% extends 'school/teacherbase.html' %}
{% block content %}

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

<div class="container mt-5">
  <h3 class="mb-4 text-center text-primary">My Posted Assignments</h3>
  {% if assignments %}
    <div class="table-responsive">
      <table class="table table-bordered table-hover align-middle">
        <thead class="table-light">
          <tr>
            <th>Class</th>
            <th>Subject</th>
            <th>Title</th>
            <th>Due Date</th>
            <th>File</th>
            <th>Posted At</th>
            <th>Submissions</th>
          </tr>
        </thead>
        <tbody>
          {% for assignment in assignments %}
          <tr>
            <td>{{ assignment.cl }}</td>
            <td>{{ assignment.subject }}</td>
            <td>{{ assignment.title }}</td>
            <td>{{ assignment.due_date }}</td>
            <td>
              {% if assignment.file %}
                <a href="{{ assignment.file.url }}" download class="btn btn-sm btn-success">
                  <i class="fas fa-download"></i> Download
                </a>
              {% else %}
                <span class="text-muted">â€”</span>
              {% endif %}
            </td>
            <td>{{ assignment.created_at|date:"Y-m-d H:i" }}</td>
            <td>
              <a href="{% url 'teacher-view-submissions' assignment.id %}" class="btn btn-sm btn-info">
                View Submissions
              </a>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  {% else %}
    <p class="text-center text-muted">No assignments posted yet.</p>
  {% endif %}
</div>

{% endblock %}
